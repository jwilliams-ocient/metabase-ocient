{
    "version": 2,
    "pipeline_id": "pipeline-metabase",
    "source": {
        "type": "s3",
        "endpoint": "http://cos/",
        "bucket": "misc",
        "file_groups": {
            "table_bird": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/bird.jsonl"
            },
            "table_flock": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/flock.jsonl"
            },
            "table_incidents": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/incidents.jsonl"
            },
            "table_users": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/users.jsonl"
            },
            "table_categories": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/categories.jsonl"
            },
            "table_venues": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/venues.jsonl"
            },
            "table_checkins": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/checkins.jsonl"
            },
            "table_places": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/places.jsonl"
            },
            "table_bird-count": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/bird-count.jsonl"
            },
            "table_products": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/products.jsonl"
            },
            "table_people": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/people.jsonl"
            },
            "table_reviews": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/reviews.jsonl"
            },
            "table_orders": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/orders.jsonl"
            },
            "table_tips": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/tips.jsonl"
            },
            "table_cities": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/cities.jsonl"
            },
            "table_tupac_categories": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/tupac_categories.jsonl"
            },
            "table_sightings": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/sightings.jsonl"
            },
            "table_continent": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/continent.jsonl"
            },
            "table_country": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/country.jsonl"
            },
            "table_region": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/region.jsonl"
            },
            "table_municipality": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/municipality.jsonl"
            },
            "table_airport": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/airport.jsonl"
            },
            "table_messages": {
                "type": "lexicographic",
                "prefix": "jkelley/metabase/jsonl/messages.jsonl"
            }
        },
        "partitions": 2,
        "partitions_assigned": [
            0,
            1
        ]
    },
    "sink": {
        "type": "ocient",
        "remotes": [
            "127.0.0.1:5050"
        ]
    },
    "transform": {
        "topics": {
            "table_bird": {
                "tables": {
                    "metabase.public.bird": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "flock_id": "\"flock_id\""
                        }
                    }
                }
            },
            "table_flock": {
                "tables": {
                    "metabase.public.flock": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\""
                        }
                    }
                }
            },
            "table_incidents": {
                "tables": {
                    "metabase.public.incidents": {
                        "columns": {
                            "id": "id",
                            "severity": "\"severity\"",
                            "timestamp": "\"timestamp\""
                        }
                    }
                }
            },
            "table_users": {
                "tables": {
                    "metabase.public.users": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\""
                        }
                    }
                }
            },
            "table_categories": {
                "tables": {
                    "metabase.public.categories": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\""
                        }
                    }
                }
            },
            "table_venues": {
                "tables": {
                    "metabase.public.venues": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "category_id": "\"category_id\"",
                            "latitude": "\"latitude\"",
                            "longitude": "\"longitude\"",
                            "price": "\"price\""
                        }
                    }
                }
            },
            "table_checkins": {
                "tables": {
                    "metabase.public.checkins": {
                        "columns": {
                            "id": "id",
                            "person": "\"person\"",
                            "timestamp": "to_timestamp(timestamp, 'yyyy-MM-dd\\'T\\'HH:mm:ss.SSSZZZZZ')"
                        }
                    }
                }
            },
            "table_places": {
                "tables": {
                    "metabase.public.places": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "liked": "\"liked\""
                        }
                    }
                }
            },
            "table_bird-count": {
                "tables": {
                    "metabase.public.bird-count": {
                        "columns": {
                            "id": "id",
                            "date": "\"date\"",
                            "count": "\"count\""
                        }
                    }
                }
            },
            "table_products": {
                "tables": {
                    "metabase.public.products": {
                        "columns": {
                            "id": "id",
                            "ean": "\"ean\"",
                            "title": "\"title\"",
                            "category": "\"category\"",
                            "vendor": "\"vendor\"",
                            "price": "\"price\"",
                            "rating": "\"rating\"",
                            "created_at": "to_timestamp(created_at, 'yyyy-MM-dd\\'T\\'HH:mm:ss[.SSS]X')"
                        }
                    }
                }
            },
            "table_people": {
                "tables": {
                    "metabase.public.people": {
                        "columns": {
                            "id": "id",
                            "address": "\"address\"",
                            "email": "\"email\"",
                            "password": "\"password\"",
                            "name": "\"name\"",
                            "city": "\"city\"",
                            "longitude": "\"longitude\"",
                            "state": "\"state\"",
                            "source": "\"source\"",
                            "birth_date": "\"birth_date\"",
                            "zip": "\"zip\"",
                            "latitude": "\"latitude\"",
                            "created_at": "to_timestamp(created_at, 'yyyy-MM-dd\\'T\\'HH:mm:ss[.SSS]X')"
                        }
                    }
                }
            },
            "table_reviews": {
                "tables": {
                    "metabase.public.reviews": {
                        "columns": {
                            "id": "id",
                            "product_id": "\"product_id\"",
                            "reviewer": "\"reviewer\"",
                            "rating": "\"rating\"",
                            "body": "\"body\"",
                            "created_at": "to_timestamp(created_at, 'yyyy-MM-dd\\'T\\'HH:mm:ss.SSSZZZZZ')"
                        }
                    }
                }
            },
            "table_orders": {
                "tables": {
                    "metabase.public.orders": {
                        "columns": {
                            "id": "id",
                            "user_id": "\"user_id\"",
                            "product_id": "\"product_id\"",
                            "subtotal": "\"subtotal\"",
                            "tax": "\"tax\"",
                            "total": "\"total\"",
                            "discount": "\"discount\"",
                            "created_at": "to_timestamp(created_at, 'yyyy-MM-dd\\'T\\'HH:mm:ss[.SSS]X')",
                            "quantity": "\"quantity\""
                        }
                    }
                }
            },
            "table_tips": {
                "tables": {
                    "metabase.public.tips": {
                        "columns": {
                            "id": "id",
                            "source": "to_string(source)",
                            "text": "\"text\"",
                            "url": "to_string(url)",
                            "venue": "to_string(venue)"
                        }
                    }
                }
            },
            "table_cities": {
                "tables": {
                    "metabase.public.cities": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "latitude": "\"latitude\"",
                            "longitude": "\"longitude\""
                        }
                    }
                }
            },
            "table_tupac_categories": {
                "tables": {
                    "metabase.public.tupac_categories": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\""
                        }
                    }
                }
            },
            "table_sightings": {
                "tables": {
                    "metabase.public.sightings": {
                        "columns": {
                            "id": "id",
                            "city_id": "\"city_id\"",
                            "category_id": "\"category_id\"",
                            "timestamp": "\"timestamp\""
                        }
                    }
                }
            },
            "table_continent": {
                "tables": {
                    "metabase.public.continent": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "iso-code": "\"iso-code\""
                        }
                    }
                }
            },
            "table_country": {
                "tables": {
                    "metabase.public.country": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "iso-code": "\"iso-code\"",
                            "continent-id": "\"continent-id\""
                        }
                    }
                }
            },
            "table_region": {
                "tables": {
                    "metabase.public.region": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "iso-code": "\"iso-code\"",
                            "country-id": "\"country-id\""
                        }
                    }
                }
            },
            "table_municipality": {
                "tables": {
                    "metabase.public.municipality": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "region-id": "\"region-id\""
                        }
                    }
                }
            },
            "table_airport": {
                "tables": {
                    "metabase.public.airport": {
                        "columns": {
                            "id": "id",
                            "name": "\"name\"",
                            "code": "\"code\"",
                            "latitude": "\"latitude\"",
                            "longitude": "\"longitude\"",
                            "municipality-id": "\"municipality-id\""
                        }
                    }
                }
            },
            "table_messages": {
                "tables": {
                    "metabase.public.messages": {
                        "columns": {
                            "id": "id",
                            "sender_id": "\"sender_id\"",
                            "receiver_id": "\"receiver_id\"",
                            "text": "\"text\""
                        }
                    }
                }
            }
        }
    }
}
